var cardMacro="cardIndex",adContainer=document.querySelector(".ad-container"),impressionUrl=document.querySelector(".glide__slides").getAttribute("data-impression-url"),slides=document.getElementsByClassName("glide__slide"),watcher=new window.spaniel.Watcher({time:1E3,root:adContainer,ratio:.5});Array.prototype.forEach.call(slides,function(a,b){watcher.watch(a,function(a){"visible"===a&&0!==b&&window.fetch(impressionUrl.replaceAll(cardMacro,b))})});